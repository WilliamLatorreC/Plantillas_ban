<div class="categoria-form">
  <h2>ğŸ—‚ Crear CategorÃ­a</h2>

  <label>Nombre de CategorÃ­a</label>
  <input type="text" [(ngModel)]="categoria.nombre" placeholder="Ej: Promociones 2025" />

  <label>DescripciÃ³n</label>
  <textarea [(ngModel)]="categoria.descripcion" placeholder="Describe esta categorÃ­a..."></textarea>

  <label>Seleccionar Plantilla</label>
  <div class="dropdown-container">
    <div class="dropdown-select" (click)="dropdownAbierto = !dropdownAbierto">
      {{ plantillaSeleccionada ? plantillaSeleccionada.nombre : 'ğŸ”½ Selecciona una plantilla' }}
    </div>

    <div *ngIf="dropdownAbierto" class="dropdown-menu">
      <input
        type="text"
        [(ngModel)]="filtro"
        (input)="filtrarPlantillas()"
        placeholder="ğŸ” Buscar plantilla o producto..."
      />
      <div class="dropdown-list">
        <div *ngFor="let grupo of plantillasAgrupadas" class="grupo">
          <div class="grupo-nombre">{{ grupo.producto }}</div>
          <div
            *ngFor="let p of grupo.plantillas"
            class="opcion"
            (click)="seleccionarPlantilla(p)"
          >
            {{ p.nombre }}
          </div>
        </div>
      </div>
    </div>
  </div>

  <button (click)="guardarCategoria()">ğŸ’¾ Guardar CategorÃ­a</button>
  <p class="mensaje">{{ mensaje }}</p>
</div>
